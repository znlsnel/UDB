<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>포스트 프로세싱 - Unity Shader Programming Guide</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .content-page {
            background: white;
            min-height: 100vh;
            padding-top: 100px;
        }
        .content-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
            line-height: 1.7;
        }
        .page-header {
            text-align: center;
            margin-bottom: 3rem;
        }
        .page-title {
            font-size: 2.5rem;
            color: #333;
            margin-bottom: 1rem;
        }
        .page-subtitle {
            font-size: 1.2rem;
            color: #666;
        }
        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: #667eea;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            margin-bottom: 2rem;
        }
        .back-button:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }
        .content-section {
            margin: 2rem 0;
        }
        .section-title {
            font-size: 1.8rem;
            color: #333;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #667eea;
        }
        .subsection-title {
            font-size: 1.4rem;
            color: #667eea;
            margin: 2rem 0 1rem 0;
        }
        .highlight-box {
            background: linear-gradient(135deg, #667eea20, #764ba220);
            border-left: 4px solid #667eea;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 8px 8px 0;
        }
        .code-example {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-family: 'JetBrains Mono', 'Fira Code', 'Cascadia Code', 'SF Mono', Monaco, 'Inconsolata', 'Roboto Mono', 'Source Code Pro', monospace;
            overflow-x: auto;
            white-space: pre-wrap;
            line-height: 1.6;
            border: 1px solid #333;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .code-example .keyword {
            color: #569cd6;
            font-weight: 500;
        }
        .code-example .string {
            color: #ce9178;
        }
        .code-example .comment {
            color: #6a9955;
            font-style: italic;
        }
        .code-example .type {
            color: #4ec9b0;
        }
        .code-example .number {
            color: #b5cea8;
        }
        .code-example .property {
            color: #9cdcfe;
        }
        .code-example .bracket {
            color: #ffd700;
        }
        .code-example .function {
            color: #dcdcaa;
        }
        .effects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        .effect-card {
            background: #f8fafc;
            padding: 1.5rem;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
        }
        .effect-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        .effect-card h4 {
            color: #667eea;
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }
        .effect-card .effect-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: #667eea;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        .effect-card.color .effect-badge {
            background: #10b981;
        }
        .effect-card.blur .effect-badge {
            background: #3b82f6;
        }
        .effect-card.distortion .effect-badge {
            background: #f59e0b;
        }
        .effect-card.lighting .effect-badge {
            background: #8b5cf6;
        }
        .effect-card.artistic .effect-badge {
            background: #ef4444;
        }
        .effect-card.screen .effect-badge {
            background: #06b6d4;
        }
        .tip-box {
            background: linear-gradient(135deg, #10b98120, #059f4620);
            border-left: 4px solid #10b981;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 8px 8px 0;
        }
        .warning-box {
            background: linear-gradient(135deg, #fbbf2420, #f5935420);
            border-left: 4px solid #f59354;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 8px 8px 0;
        }
        .pipeline-diagram {
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            padding: 2rem;
            border-radius: 12px;
            margin: 2rem 0;
            text-align: center;
            border: 1px solid #cbd5e0;
        }
        .pipeline-flow {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 1rem 0;
        }
        .pipeline-step {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            border: 2px solid #667eea;
            text-align: center;
            flex: 1;
            min-width: 120px;
        }
        .pipeline-step.geometry {
            border-color: #10b981;
            color: #10b981;
        }
        .pipeline-step.rasterization {
            border-color: #3b82f6;
            color: #3b82f6;
        }
        .pipeline-step.postprocess {
            border-color: #f59e0b;
            color: #f59e0b;
        }
        .pipeline-step.output {
            border-color: #8b5cf6;
            color: #8b5cf6;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .comparison-table th {
            background: #667eea;
            color: white;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
        }
        .comparison-table td {
            padding: 1rem;
            border-bottom: 1px solid #e2e8f0;
            vertical-align: top;
        }
        .comparison-table tr:hover {
            background: #f8fafc;
        }
        .visual-demo {
            background: linear-gradient(135deg, #667eea10, #764ba210);
            padding: 2rem;
            border-radius: 12px;
            margin: 2rem 0;
            text-align: center;
            border: 1px solid #e2e8f0;
        }
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }
        .demo-item {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
            text-align: center;
        }
        .demo-item .demo-visual {
            width: 100%;
            height: 80px;
            border-radius: 4px;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
        }
        .demo-item.original .demo-visual {
            background: linear-gradient(45deg, #667eea, #764ba2);
        }
        .demo-item.bloom .demo-visual {
            background: linear-gradient(45deg, #fbbf24, #f59e0b);
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
        }
        .demo-item.blur .demo-visual {
            background: linear-gradient(45deg, #667eea, #764ba2);
            filter: blur(3px);
        }
        .demo-item.sepia .demo-visual {
            background: linear-gradient(45deg, #92400e, #a16207);
        }
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            gap: 1rem;
        }
        .nav-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            flex: 1;
            justify-content: center;
        }
        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }
        .nav-button.prev {
            background: linear-gradient(135deg, #6b7280, #9ca3af);
        }
        .nav-button.prev:hover {
            box-shadow: 0 8px 25px rgba(107, 114, 128, 0.3);
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-logo">
                    <i class="fas fa-cube"></i>
                    <span>Unity Shader Programming</span>
                </div>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="../index.html" class="nav-link">홈</a>
                    </li>
                    <li class="nav-item">
                        <a href="../index.html#about" class="nav-link">소개</a>
                    </li>
                    <li class="nav-item">
                        <a href="../index.html#contact" class="nav-link">문의</a>
                    </li>
                </ul>
                <div class="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </div>
        </nav>
    </header>

    <main class="content-page">
        <div class="content-container">
            <a href="../index.html#table-of-contents" class="back-button">
                <i class="fas fa-arrow-left"></i>
                목차로 돌아가기
            </a>
            
            <div class="page-header">
                <h1 class="page-title">포스트 프로세싱</h1>
                <p class="page-subtitle">렌더링 후 이미지 처리와 시각적 효과</p>
            </div>

            <div class="content-section">
                <h2 class="section-title">🎬 포스트 프로세싱이란?</h2>
                
                <p><strong>포스트 프로세싱(Post-Processing)</strong>은 3D 씬이 렌더링된 후 최종 이미지에 추가적인 시각적 효과를 적용하는 기법입니다. 영화의 후반 작업과 같은 개념으로, 게임의 시각적 품질을 크게 향상시킵니다.</p>

                <div class="highlight-box">
                    <strong>🎯 포스트 프로세싱의 핵심 개념:</strong>
                    <ul style="margin-top: 1rem;">
                        <li><strong>화면 공간 처리:</strong> 렌더링된 2D 이미지를 대상으로 작업</li>
                        <li><strong>실시간 적용:</strong> 매 프레임 실시간으로 효과 적용</li>
                        <li><strong>다중 패스:</strong> 여러 단계의 효과를 순차적으로 적용</li>
                        <li><strong>성능 최적화:</strong> GPU의 병렬 처리 능력 활용</li>
                    </ul>
                </div>

                <div class="pipeline-diagram">
                    <h3 style="margin-bottom: 1.5rem; color: #333;">렌더링 파이프라인에서의 포스트 프로세싱</h3>
                    <div class="pipeline-flow">
                        <div class="pipeline-step geometry">
                            <strong>지오메트리</strong><br>
                            <small>3D 모델 렌더링</small>
                        </div>
                        <div style="color: #667eea; font-size: 1.5rem;">→</div>
                        <div class="pipeline-step rasterization">
                            <strong>래스터화</strong><br>
                            <small>픽셀 생성</small>
                        </div>
                        <div style="color: #667eea; font-size: 1.5rem;">→</div>
                        <div class="pipeline-step postprocess">
                            <strong>포스트 프로세싱</strong><br>
                            <small>이미지 효과 적용</small>
                        </div>
                        <div style="color: #667eea; font-size: 1.5rem;">→</div>
                        <div class="pipeline-step output">
                            <strong>최종 출력</strong><br>
                            <small>화면 표시</small>
                        </div>
                    </div>
                </div>

                <div class="visual-demo">
                    <h3 style="margin-bottom: 1.5rem; color: #333;">포스트 프로세싱 효과 비교</h3>
                    <div class="demo-grid">
                        <div class="demo-item original">
                            <div class="demo-visual">🎮</div>
                            <strong>원본</strong>
                        </div>
                        <div class="demo-item bloom">
                            <div class="demo-visual">🎮</div>
                            <strong>블룸</strong>
                        </div>
                        <div class="demo-item blur">
                            <div class="demo-visual">🎮</div>
                            <strong>블러</strong>
                        </div>
                        <div class="demo-item sepia">
                            <div class="demo-visual">🎮</div>
                            <strong>세피아</strong>
                        </div>
                    </div>
                </div>
            </div>

            <div class="content-section">
                <h2 class="section-title">🎨 주요 포스트 프로세싱 효과</h2>
                
                <p>게임에서 자주 사용되는 포스트 프로세싱 효과들을 카테고리별로 살펴보겠습니다.</p>

                <div class="effects-grid">
                    <div class="effect-card color">
                        <div class="effect-badge">Color</div>
                        <h4><i class="fas fa-palette"></i> 색상 보정</h4>
                        <p><strong>Tone Mapping:</strong> HDR을 LDR로 변환</p>
                        <p><strong>Color Grading:</strong> 색상 톤 조정</p>
                        <p><strong>Gamma Correction:</strong> 감마 보정</p>
                        <p><strong>Contrast/Saturation:</strong> 대비와 채도 조절</p>
                    </div>
                    
                    <div class="effect-card blur">
                        <div class="effect-badge">Blur</div>
                        <h4><i class="fas fa-eye-slash"></i> 블러 효과</h4>
                        <p><strong>Gaussian Blur:</strong> 가우시안 블러</p>
                        <p><strong>Motion Blur:</strong> 모션 블러</p>
                        <p><strong>Depth of Field:</strong> 피사계 심도</p>
                        <p><strong>Radial Blur:</strong> 방사형 블러</p>
                    </div>
                    
                    <div class="effect-card lighting">
                        <div class="effect-badge">Lighting</div>
                        <h4><i class="fas fa-sun"></i> 라이팅 효과</h4>
                        <p><strong>Bloom:</strong> 밝은 영역 글로우</p>
                        <p><strong>God Rays:</strong> 볼류메트릭 라이팅</p>
                        <p><strong>Screen Space Reflection:</strong> 화면 공간 반사</p>
                        <p><strong>Ambient Occlusion:</strong> 주변 오클루전</p>
                    </div>
                    
                    <div class="effect-card distortion">
                        <div class="effect-badge">Distortion</div>
                        <h4><i class="fas fa-water"></i> 왜곡 효과</h4>
                        <p><strong>Chromatic Aberration:</strong> 색수차</p>
                        <p><strong>Lens Distortion:</strong> 렌즈 왜곡</p>
                        <p><strong>Heat Haze:</strong> 열기 왜곡</p>
                        <p><strong>Ripple Effect:</strong> 물결 효과</p>
                    </div>
                    
                    <div class="effect-card artistic">
                        <div class="effect-badge">Artistic</div>
                        <h4><i class="fas fa-paint-brush"></i> 아티스틱 효과</h4>
                        <p><strong>Toon Shading:</strong> 툰 셰이딩</p>
                        <p><strong>Edge Detection:</strong> 외곽선 검출</p>
                        <p><strong>Pixelation:</strong> 픽셀화</p>
                        <p><strong>Oil Painting:</strong> 유화 효과</p>
                    </div>
                    
                    <div class="effect-card screen">
                        <div class="effect-badge">Screen</div>
                        <h4><i class="fas fa-tv"></i> 화면 효과</h4>
                        <p><strong>Vignette:</strong> 비네팅</p>
                        <p><strong>Film Grain:</strong> 필름 그레인</p>
                        <p><strong>Scanlines:</strong> 스캔라인</p>
                        <p><strong>CRT Effect:</strong> CRT 모니터 효과</p>
                    </div>
                </div>
            </div>

            <div class="content-section">
                <h2 class="section-title">🏗️ 포스트 프로세싱 기본 구조</h2>
                
                <p>Unity에서 포스트 프로세싱 셰이더를 작성하는 기본 구조를 알아보겠습니다.</p>

                <h3 class="subsection-title">기본 포스트 프로세싱 셰이더</h3>
                
                <div class="code-example">
<span class="keyword">Shader</span> <span class="string">"Custom/PostProcessing/BasicEffect"</span>
<span class="bracket">{</span>
    <span class="keyword">Properties</span>
    <span class="bracket">{</span>
        <span class="property">_MainTex</span> (<span class="string">"Texture"</span>, <span class="keyword">2D</span>) = <span class="string">"white"</span> <span class="bracket">{}</span>
        <span class="property">_Intensity</span> (<span class="string">"Effect Intensity"</span>, <span class="keyword">Range</span>(<span class="number">0</span>, <span class="number">1</span>)) = <span class="number">1</span>
    <span class="bracket">}</span>
    
    <span class="keyword">SubShader</span>
    <span class="bracket">{</span>
        <span class="comment">// 포스트 프로세싱용 태그</span>
        <span class="keyword">Tags</span> <span class="bracket">{</span> <span class="string">"RenderType"</span>=<span class="string">"Opaque"</span> <span class="string">"RenderPipeline"</span>=<span class="string">"UniversalPipeline"</span> <span class="bracket">}</span>
        
        <span class="comment">// 깊이 테스트 비활성화</span>
        <span class="keyword">ZTest</span> Always
        <span class="keyword">ZWrite</span> Off
        <span class="keyword">Cull</span> Off
        
        <span class="keyword">Pass</span>
        <span class="bracket">{</span>
            <span class="keyword">HLSLPROGRAM</span>
            <span class="keyword">#pragma vertex</span> vert
            <span class="keyword">#pragma fragment</span> frag
            
            <span class="keyword">#include</span> <span class="string">"Packages/com.unity.render-pipelines.universal/ShaderLibrary/Core.hlsl"</span>
            
            <span class="comment">// 텍스처와 샘플러</span>
            <span class="keyword">TEXTURE2D</span>(<span class="property">_MainTex</span>);
            <span class="keyword">SAMPLER</span>(<span class="property">sampler_MainTex</span>);
            
            <span class="comment">// 프로퍼티</span>
            <span class="type">float</span> <span class="property">_Intensity</span>;
            
            <span class="comment">// 버텍스 입력</span>
            <span class="keyword">struct</span> <span class="type">Attributes</span>
            <span class="bracket">{</span>
                <span class="type">float4</span> <span class="property">positionOS</span> : <span class="keyword">POSITION</span>;
                <span class="type">float2</span> <span class="property">uv</span> : <span class="keyword">TEXCOORD0</span>;
            <span class="bracket">}</span>;
            
            <span class="comment">// 버텍스 출력</span>
            <span class="keyword">struct</span> <span class="type">Varyings</span>
            <span class="bracket">{</span>
                <span class="type">float4</span> <span class="property">positionHCS</span> : <span class="keyword">SV_POSITION</span>;
                <span class="type">float2</span> <span class="property">uv</span> : <span class="keyword">TEXCOORD0</span>;
            <span class="bracket">}</span>;
            
            <span class="comment">// 버텍스 셰이더</span>
            <span class="type">Varyings</span> <span class="function">vert</span>(<span class="type">Attributes</span> input)
            <span class="bracket">{</span>
                <span class="type">Varyings</span> output;
                output.<span class="property">positionHCS</span> = <span class="function">TransformObjectToHClip</span>(input.<span class="property">positionOS</span>.<span class="property">xyz</span>);
                output.<span class="property">uv</span> = input.<span class="property">uv</span>;
                <span class="keyword">return</span> output;
            <span class="bracket">}</span>
            
            <span class="comment">// 프래그먼트 셰이더</span>
            <span class="type">half4</span> <span class="function">frag</span>(<span class="type">Varyings</span> input) : <span class="keyword">SV_Target</span>
            <span class="bracket">{</span>
                <span class="comment">// 원본 색상 샘플링</span>
                <span class="type">half4</span> color = <span class="function">SAMPLE_TEXTURE2D</span>(<span class="property">_MainTex</span>, <span class="property">sampler_MainTex</span>, input.<span class="property">uv</span>);
                
                <span class="comment">// 여기에 포스트 프로세싱 효과 적용</span>
                <span class="comment">// 예: 그레이스케일 변환</span>
                <span class="type">float</span> gray = <span class="function">dot</span>(color.<span class="property">rgb</span>, <span class="type">float3</span>(<span class="number">0.299</span>, <span class="number">0.587</span>, <span class="number">0.114</span>));
                color.<span class="property">rgb</span> = <span class="function">lerp</span>(color.<span class="property">rgb</span>, gray.<span class="property">xxx</span>, <span class="property">_Intensity</span>);
                
                <span class="keyword">return</span> color;
            <span class="bracket">}</span>
            <span class="keyword">ENDHLSL</span>
        <span class="bracket">}</span>
    <span class="bracket">}</span>
<span class="bracket">}</span>
                </div>

                <h3 class="subsection-title">C# 포스트 프로세싱 컴포넌트</h3>
                
                <div class="code-example">
<span class="keyword">using</span> UnityEngine;
<span class="keyword">using</span> UnityEngine.Rendering;
<span class="keyword">using</span> UnityEngine.Rendering.Universal;

<span class="bracket">[</span><span class="type">System.Serializable</span><span class="bracket">]</span>
<span class="keyword">public class</span> <span class="type">CustomPostProcessSettings</span>
<span class="bracket">{</span>
    <span class="bracket">[</span><span class="type">Range</span>(<span class="number">0f</span>, <span class="number">1f</span>)<span class="bracket">]</span>
    <span class="keyword">public</span> <span class="type">float</span> intensity = <span class="number">0.5f</span>;
    
    <span class="keyword">public</span> <span class="type">Material</span> material;
<span class="bracket">}</span>

<span class="keyword">public class</span> <span class="type">CustomPostProcessFeature</span> : <span class="type">ScriptableRendererFeature</span>
<span class="bracket">{</span>
    <span class="keyword">public</span> <span class="type">CustomPostProcessSettings</span> settings = <span class="keyword">new</span> <span class="type">CustomPostProcessSettings</span>();
    
    <span class="keyword">private</span> <span class="type">CustomPostProcessPass</span> customPass;
    
    <span class="keyword">public override</span> <span class="type">void</span> <span class="function">Create</span>()
    <span class="bracket">{</span>
        customPass = <span class="keyword">new</span> <span class="type">CustomPostProcessPass</span>(settings);
        customPass.<span class="property">renderPassEvent</span> = <span class="type">RenderPassEvent</span>.<span class="property">BeforeRenderingPostProcessing</span>;
    <span class="bracket">}</span>
    
    <span class="keyword">public override</span> <span class="type">void</span> <span class="function">AddRenderPasses</span>(<span class="type">ScriptableRenderer</span> renderer, <span class="keyword">ref</span> <span class="type">RenderingData</span> renderingData)
    <span class="bracket">{</span>
        customPass.<span class="function">Setup</span>(renderer.<span class="function">cameraColorTarget</span>);
        renderer.<span class="function">EnqueuePass</span>(customPass);
    <span class="bracket">}</span>
<span class="bracket">}</span>

<span class="keyword">public class</span> <span class="type">CustomPostProcessPass</span> : <span class="type">ScriptableRenderPass</span>
<span class="bracket">{</span>
    <span class="keyword">private</span> <span class="type">CustomPostProcessSettings</span> settings;
    <span class="keyword">private</span> <span class="type">RenderTargetIdentifier</span> source;
    <span class="keyword">private</span> <span class="type">RenderTargetHandle</span> tempTexture;
    
    <span class="keyword">public</span> <span class="function">CustomPostProcessPass</span>(<span class="type">CustomPostProcessSettings</span> settings)
    <span class="bracket">{</span>
        <span class="keyword">this</span>.<span class="property">settings</span> = settings;
        tempTexture.<span class="function">Init</span>(<span class="string">"_TempPostProcessTexture"</span>);
    <span class="bracket">}</span>
    
    <span class="keyword">public</span> <span class="type">void</span> <span class="function">Setup</span>(<span class="type">RenderTargetIdentifier</span> source)
    <span class="bracket">{</span>
        <span class="keyword">this</span>.<span class="property">source</span> = source;
    <span class="bracket">}</span>
    
    <span class="keyword">public override</span> <span class="type">void</span> <span class="function">Execute</span>(<span class="type">ScriptableRenderContext</span> context, <span class="keyword">ref</span> <span class="type">RenderingData</span> renderingData)
    <span class="bracket">{</span>
        <span class="keyword">if</span> (settings.<span class="property">material</span> == <span class="keyword">null</span>) <span class="keyword">return</span>;
        
        <span class="type">CommandBuffer</span> cmd = <span class="type">CommandBufferPool</span>.<span class="function">Get</span>(<span class="string">"Custom Post Process"</span>);
        
        <span class="comment">// 임시 렌더 텍스처 생성</span>
        <span class="type">RenderTextureDescriptor</span> desc = renderingData.<span class="property">cameraData</span>.<span class="property">cameraTargetDescriptor</span>;
        cmd.<span class="function">GetTemporaryRT</span>(tempTexture.<span class="property">id</span>, desc);
        
        <span class="comment">// 머티리얼 프로퍼티 설정</span>
        settings.<span class="property">material</span>.<span class="function">SetFloat</span>(<span class="string">"_Intensity"</span>, settings.<span class="property">intensity</span>);
        
        <span class="comment">// 포스트 프로세싱 적용</span>
        cmd.<span class="function">Blit</span>(source, tempTexture.<span class="function">Identifier</span>(), settings.<span class="property">material</span>);
        cmd.<span class="function">Blit</span>(tempTexture.<span class="function">Identifier</span>(), source);
        
        context.<span class="function">ExecuteCommandBuffer</span>(cmd);
        <span class="type">CommandBufferPool</span>.<span class="function">Release</span>(cmd);
    <span class="bracket">}</span>
    
    <span class="keyword">public override</span> <span class="type">void</span> <span class="function">FrameCleanup</span>(<span class="type">CommandBuffer</span> cmd)
    <span class="bracket">{</span>
        cmd.<span class="function">ReleaseTemporaryRT</span>(tempTexture.<span class="property">id</span>);
    <span class="bracket">}</span>
<span class="bracket">}</span>
                </div>

                <div class="tip-box">
                    <strong>💡 포스트 프로세싱 셰이더 핵심 요소:</strong>
                    <ul style="margin-top: 1rem;">
                        <li><strong>ZTest Always:</strong> 깊이 테스트 비활성화</li>
                        <li><strong>ZWrite Off:</strong> 깊이 쓰기 비활성화</li>
                        <li><strong>Cull Off:</strong> 컬링 비활성화</li>
                        <li><strong>화면 공간 UV:</strong> 0~1 범위의 UV 좌표 사용</li>
                    </ul>
                </div>
            </div>

            <div class="content-section">
                <h2 class="section-title">🔧 실습: 블룸 효과 구현</h2>
                
                <p>가장 인기 있는 포스트 프로세싱 효과 중 하나인 블룸(Bloom) 효과를 구현해보겠습니다.</p>

                <h3 class="subsection-title">블룸 셰이더 구현</h3>
                
                <div class="code-example">
<span class="keyword">Shader</span> <span class="string">"Custom/PostProcessing/Bloom"</span>
<span class="bracket">{</span>
    <span class="keyword">Properties</span>
    <span class="bracket">{</span>
        <span class="property">_MainTex</span> (<span class="string">"Texture"</span>, <span class="keyword">2D</span>) = <span class="string">"white"</span> <span class="bracket">{}</span>
        <span class="property">_BloomTex</span> (<span class="string">"Bloom Texture"</span>, <span class="keyword">2D</span>) = <span class="string">"black"</span> <span class="bracket">{}</span>
        <span class="property">_Threshold</span> (<span class="string">"Brightness Threshold"</span>, <span class="keyword">Range</span>(<span class="number">0</span>, <span class="number">5</span>)) = <span class="number">1</span>
        <span class="property">_Intensity</span> (<span class="string">"Bloom Intensity"</span>, <span class="keyword">Range</span>(<span class="number">0</span>, <span class="number">5</span>)) = <span class="number">1</span>
        <span class="property">_BlurSize</span> (<span class="string">"Blur Size"</span>, <span class="keyword">Range</span>(<span class="number">0</span>, <span class="number">10</span>)) = <span class="number">1</span>
    <span class="bracket">}</span>
    
    <span class="keyword">SubShader</span>
    <span class="bracket">{</span>
        <span class="keyword">Tags</span> <span class="bracket">{</span> <span class="string">"RenderType"</span>=<span class="string">"Opaque"</span> <span class="bracket">}</span>
        <span class="keyword">ZTest</span> Always <span class="keyword">ZWrite</span> Off <span class="keyword">Cull</span> Off
        
        <span class="comment">// Pass 0: 밝기 추출</span>
        <span class="keyword">Pass</span>
        <span class="bracket">{</span>
            <span class="keyword">Name</span> <span class="string">"BrightnessExtraction"</span>
            
            <span class="keyword">HLSLPROGRAM</span>
            <span class="keyword">#pragma vertex</span> vert
            <span class="keyword">#pragma fragment</span> frag_extract
            
            <span class="keyword">#include</span> <span class="string">"Packages/com.unity.render-pipelines.universal/ShaderLibrary/Core.hlsl"</span>
            
            <span class="keyword">TEXTURE2D</span>(<span class="property">_MainTex</span>);
            <span class="keyword">SAMPLER</span>(<span class="property">sampler_MainTex</span>);
            <span class="type">float</span> <span class="property">_Threshold</span>;
            
            <span class="keyword">struct</span> <span class="type">Attributes</span>
            <span class="bracket">{</span>
                <span class="type">float4</span> <span class="property">positionOS</span> : <span class="keyword">POSITION</span>;
                <span class="type">float2</span> <span class="property">uv</span> : <span class="keyword">TEXCOORD0</span>;
            <span class="bracket">}</span>;
            
            <span class="keyword">struct</span> <span class="type">Varyings</span>
            <span class="bracket">{</span>
                <span class="type">float4</span> <span class="property">positionHCS</span> : <span class="keyword">SV_POSITION</span>;
                <span class="type">float2</span> <span class="property">uv</span> : <span class="keyword">TEXCOORD0</span>;
            <span class="bracket">}</span>;
            
            <span class="type">Varyings</span> <span class="function">vert</span>(<span class="type">Attributes</span> input)
            <span class="bracket">{</span>
                <span class="type">Varyings</span> output;
                output.<span class="property">positionHCS</span> = <span class="function">TransformObjectToHClip</span>(input.<span class="property">positionOS</span>.<span class="property">xyz</span>);
                output.<span class="property">uv</span> = input.<span class="property">uv</span>;
                <span class="keyword">return</span> output;
            <span class="bracket">}</span>
            
            <span class="type">half4</span> <span class="function">frag_extract</span>(<span class="type">Varyings</span> input) : <span class="keyword">SV_Target</span>
            <span class="bracket">{</span>
                <span class="type">half4</span> color = <span class="function">SAMPLE_TEXTURE2D</span>(<span class="property">_MainTex</span>, <span class="property">sampler_MainTex</span>, input.<span class="property">uv</span>);
                
                <span class="comment">// 밝기 계산 (Luminance)</span>
                <span class="type">float</span> brightness = <span class="function">dot</span>(color.<span class="property">rgb</span>, <span class="type">float3</span>(<span class="number">0.2126</span>, <span class="number">0.7152</span>, <span class="number">0.0722</span>));
                
                <span class="comment">// 임계값보다 밝은 부분만 추출</span>
                <span class="type">float</span> contribution = <span class="function">max</span>(<span class="number">0</span>, brightness - <span class="property">_Threshold</span>);
                contribution /= <span class="function">max</span>(brightness, <span class="number">0.00001</span>);
                
                <span class="keyword">return</span> color * contribution;
            <span class="bracket">}</span>
            <span class="keyword">ENDHLSL</span>
        <span class="bracket">}</span>
        
        <span class="comment">// Pass 1: 가우시안 블러 (수평)</span>
        <span class="keyword">Pass</span>
        <span class="bracket">{</span>
            <span class="keyword">Name</span> <span class="string">"GaussianBlurHorizontal"</span>
            
            <span class="keyword">HLSLPROGRAM</span>
            <span class="keyword">#pragma vertex</span> vert
            <span class="keyword">#pragma fragment</span> frag_blur_h
            
            <span class="keyword">#include</span> <span class="string">"Packages/com.unity.render-pipelines.universal/ShaderLibrary/Core.hlsl"</span>
            
            <span class="keyword">TEXTURE2D</span>(<span class="property">_MainTex</span>);
            <span class="keyword">SAMPLER</span>(<span class="property">sampler_MainTex</span>);
            <span class="type">float4</span> <span class="property">_MainTex_TexelSize</span>;
            <span class="type">float</span> <span class="property">_BlurSize</span>;
            
            <span class="keyword">struct</span> <span class="type">Attributes</span>
            <span class="bracket">{</span>
                <span class="type">float4</span> <span class="property">positionOS</span> : <span class="keyword">POSITION</span>;
                <span class="type">float2</span> <span class="property">uv</span> : <span class="keyword">TEXCOORD0</span>;
            <span class="bracket">}</span>;
            
            <span class="keyword">struct</span> <span class="type">Varyings</span>
            <span class="bracket">{</span>
                <span class="type">float4</span> <span class="property">positionHCS</span> : <span class="keyword">SV_POSITION</span>;
                <span class="type">float2</span> <span class="property">uv</span> : <span class="keyword">TEXCOORD0</span>;
            <span class="bracket">}</span>;
            
            <span class="type">Varyings</span> <span class="function">vert</span>(<span class="type">Attributes</span> input)
            <span class="bracket">{</span>
                <span class="type">Varyings</span> output;
                output.<span class="property">positionHCS</span> = <span class="function">TransformObjectToHClip</span>(input.<span class="property">positionOS</span>.<span class="property">xyz</span>);
                output.<span class="property">uv</span> = input.<span class="property">uv</span>;
                <span class="keyword">return</span> output;
            <span class="bracket">}</span>
            
            <span class="type">half4</span> <span class="function">frag_blur_h</span>(<span class="type">Varyings</span> input) : <span class="keyword">SV_Target</span>
            <span class="bracket">{</span>
                <span class="type">half4</span> color = <span class="type">half4</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);
                <span class="type">float2</span> offset = <span class="type">float2</span>(<span class="property">_MainTex_TexelSize</span>.<span class="property">x</span> * <span class="property">_BlurSize</span>, <span class="number">0</span>);
                
                <span class="comment">// 5탭 가우시안 블러</span>
                color += <span class="function">SAMPLE_TEXTURE2D</span>(<span class="property">_MainTex</span>, <span class="property">sampler_MainTex</span>, input.<span class="property">uv</span> - offset * <span class="number">2</span>) * <span class="number">0.06</span>;
                color += <span class="function">SAMPLE_TEXTURE2D</span>(<span class="property">_MainTex</span>, <span class="property">sampler_MainTex</span>, input.<span class="property">uv</span> - offset) * <span class="number">0.24</span>;
                color += <span class="function">SAMPLE_TEXTURE2D</span>(<span class="property">_MainTex</span>, <span class="property">sampler_MainTex</span>, input.<span class="property">uv</span>) * <span class="number">0.40</span>;
                color += <span class="function">SAMPLE_TEXTURE2D</span>(<span class="property">_MainTex</span>, <span class="property">sampler_MainTex</span>, input.<span class="property">uv</span> + offset) * <span class="number">0.24</span>;
                color += <span class="function">SAMPLE_TEXTURE2D</span>(<span class="property">_MainTex</span>, <span class="property">sampler_MainTex</span>, input.<span class="property">uv</span> + offset * <span class="number">2</span>) * <span class="number">0.06</span>;
                
                <span class="keyword">return</span> color;
            <span class="bracket">}</span>
            <span class="keyword">ENDHLSL</span>
        <span class="bracket">}</span>
        
        <span class="comment">// Pass 2: 가우시안 블러 (수직)</span>
        <span class="keyword">Pass</span>
        <span class="bracket">{</span>
            <span class="keyword">Name</span> <span class="string">"GaussianBlurVertical"</span>
            
            <span class="keyword">HLSLPROGRAM</span>
            <span class="keyword">#pragma vertex</span> vert
            <span class="keyword">#pragma fragment</span> frag_blur_v
            
            <span class="keyword">#include</span> <span class="string">"Packages/com.unity.render-pipelines.universal/ShaderLibrary/Core.hlsl"</span>
            
            <span class="keyword">TEXTURE2D</span>(<span class="property">_MainTex</span>);
            <span class="keyword">SAMPLER</span>(<span class="property">sampler_MainTex</span>);
            <span class="type">float4</span> <span class="property">_MainTex_TexelSize</span>;
            <span class="type">float</span> <span class="property">_BlurSize</span>;
            
            <span class="keyword">struct</span> <span class="type">Attributes</span>
            <span class="bracket">{</span>
                <span class="type">float4</span> <span class="property">positionOS</span> : <span class="keyword">POSITION</span>;
                <span class="type">float2</span> <span class="property">uv</span> : <span class="keyword">TEXCOORD0</span>;
            <span class="bracket">}</span>;
            
            <span class="keyword">struct</span> <span class="type">Varyings</span>
            <span class="bracket">{</span>
                <span class="type">float4</span> <span class="property">positionHCS</span> : <span class="keyword">SV_POSITION</span>;
                <span class="type">float2</span> <span class="property">uv</span> : <span class="keyword">TEXCOORD0</span>;
            <span class="bracket">}</span>;
            
            <span class="type">Varyings</span> <span class="function">vert</span>(<span class="type">Attributes</span> input)
            <span class="bracket">{</span>
                <span class="type">Varyings</span> output;
                output.<span class="property">positionHCS</span> = <span class="function">TransformObjectToHClip</span>(input.<span class="property">positionOS</span>.<span class="property">xyz</span>);
                output.<span class="property">uv</span> = input.<span class="property">uv</span>;
                <span class="keyword">return</span> output;
            <span class="bracket">}</span>
            
            <span class="type">half4</span> <span class="function">frag_blur_v</span>(<span class="type">Varyings</span> input) : <span class="keyword">SV_Target</span>
            <span class="bracket">{</span>
                <span class="type">half4</span> color = <span class="type">half4</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);
                <span class="type">float2</span> offset = <span class="type">float2</span>(<span class="number">0</span>, <span class="property">_MainTex_TexelSize</span>.<span class="property">y</span> * <span class="property">_BlurSize</span>);
                
                <span class="comment">// 5탭 가우시안 블러</span>
                color += <span class="function">SAMPLE_TEXTURE2D</span>(<span class="property">_MainTex</span>, <span class="property">sampler_MainTex</span>, input.<span class="property">uv</span> - offset * <span class="number">2</span>) * <span class="number">0.06</span>;
                color += <span class="function">SAMPLE_TEXTURE2D</span>(<span class="property">_MainTex</span>, <span class="property">sampler_MainTex</span>, input.<span class="property">uv</span> - offset) * <span class="number">0.24</span>;
                color += <span class="function">SAMPLE_TEXTURE2D</span>(<span class="property">_MainTex</span>, <span class="property">sampler_MainTex</span>, input.<span class="property">uv</span>) * <span class="number">0.40</span>;
                color += <span class="function">SAMPLE_TEXTURE2D</span>(<span class="property">_MainTex</span>, <span class="property">sampler_MainTex</span>, input.<span class="property">uv</span> + offset) * <span class="number">0.24</span>;
                color += <span class="function">SAMPLE_TEXTURE2D</span>(<span class="property">_MainTex</span>, <span class="property">sampler_MainTex</span>, input.<span class="property">uv</span> + offset * <span class="number">2</span>) * <span class="number">0.06</span>;
                
                <span class="keyword">return</span> color;
            <span class="bracket">}</span>
            <span class="keyword">ENDHLSL</span>
        <span class="bracket">}</span>
        
        <span class="comment">// Pass 3: 최종 합성</span>
        <span class="keyword">Pass</span>
        <span class="bracket">{</span>
            <span class="keyword">Name</span> <span class="string">"BloomComposite"</span>
            
            <span class="keyword">HLSLPROGRAM</span>
            <span class="keyword">#pragma vertex</span> vert
            <span class="keyword">#pragma fragment</span> frag_composite
            
            <span class="keyword">#include</span> <span class="string">"Packages/com.unity.render-pipelines.universal/ShaderLibrary/Core.hlsl"</span>
            
            <span class="keyword">TEXTURE2D</span>(<span class="property">_MainTex</span>);
            <span class="keyword">SAMPLER</span>(<span class="property">sampler_MainTex</span>);
            <span class="keyword">TEXTURE2D</span>(<span class="property">_BloomTex</span>);
            <span class="keyword">SAMPLER</span>(<span class="property">sampler_BloomTex</span>);
            <span class="type">float</span> <span class="property">_Intensity</span>;
            
            <span class="keyword">struct</span> <span class="type">Attributes</span>
            <span class="bracket">{</span>
                <span class="type">float4</span> <span class="property">positionOS</span> : <span class="keyword">POSITION</span>;
                <span class="type">float2</span> <span class="property">uv</span> : <span class="keyword">TEXCOORD0</span>;
            <span class="bracket">}</span>;
            
            <span class="keyword">struct</span> <span class="type">Varyings</span>
            <span class="bracket">{</span>
                <span class="type">float4</span> <span class="property">positionHCS</span> : <span class="keyword">SV_POSITION</span>;
                <span class="type">float2</span> <span class="property">uv</span> : <span class="keyword">TEXCOORD0</span>;
            <span class="bracket">}</span>;
            
            <span class="type">Varyings</span> <span class="function">vert</span>(<span class="type">Attributes</span> input)
            <span class="bracket">{</span>
                <span class="type">Varyings</span> output;
                output.<span class="property">positionHCS</span> = <span class="function">TransformObjectToHClip</span>(input.<span class="property">positionOS</span>.<span class="property">xyz</span>);
                output.<span class="property">uv</span> = input.<span class="property">uv</span>;
                <span class="keyword">return</span> output;
            <span class="bracket">}</span>
            
            <span class="type">half4</span> <span class="function">frag_composite</span>(<span class="type">Varyings</span> input) : <span class="keyword">SV_Target</span>
            <span class="bracket">{</span>
                <span class="comment">// 원본 이미지</span>
                <span class="type">half4</span> original = <span class="function">SAMPLE_TEXTURE2D</span>(<span class="property">_MainTex</span>, <span class="property">sampler_MainTex</span>, input.<span class="property">uv</span>);
                
                <span class="comment">// 블룸 텍스처</span>
                <span class="type">half4</span> bloom = <span class="function">SAMPLE_TEXTURE2D</span>(<span class="property">_BloomTex</span>, <span class="property">sampler_BloomTex</span>, input.<span class="property">uv</span>);
                
                <span class="comment">// 가산 블렌딩으로 합성</span>
                <span class="keyword">return</span> original + bloom * <span class="property">_Intensity</span>;
            <span class="bracket">}</span>
            <span class="keyword">ENDHLSL</span>
        <span class="bracket">}</span>
    <span class="bracket">}</span>
<span class="bracket">}</span>
                </div>

                <div class="tip-box">
                    <strong>💡 블룸 효과 구현 단계:</strong>
                    <ul style="margin-top: 1rem;">
                        <li><strong>1단계:</strong> 밝기 임계값 이상의 픽셀만 추출</li>
                        <li><strong>2단계:</strong> 수평 가우시안 블러 적용</li>
                        <li><strong>3단계:</strong> 수직 가우시안 블러 적용</li>
                        <li><strong>4단계:</strong> 원본 이미지와 블룸 텍스처 합성</li>
                    </ul>
                </div>
            </div>

            <div class="content-section">
                <h2 class="section-title">⚡ 성능 최적화</h2>
                
                <p>포스트 프로세싱은 매 프레임 실행되므로 성능 최적화가 매우 중요합니다.</p>

                <h3 class="subsection-title">최적화 기법</h3>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>기법</th>
                            <th>설명</th>
                            <th>성능 향상</th>
                            <th>품질 영향</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>해상도 스케일링</strong></td>
                            <td>낮은 해상도에서 효과 적용 후 업스케일</td>
                            <td>높음</td>
                            <td>중간</td>
                        </tr>
                        <tr>
                            <td><strong>LOD 시스템</strong></td>
                            <td>거리에 따라 효과 품질 조절</td>
                            <td>중간</td>
                            <td>낮음</td>
                        </tr>
                        <tr>
                            <td><strong>조건부 실행</strong></td>
                            <td>필요할 때만 효과 활성화</td>
                            <td>높음</td>
                            <td>없음</td>
                        </tr>
                        <tr>
                            <td><strong>텍스처 압축</strong></td>
                            <td>중간 결과물 텍스처 압축</td>
                            <td>중간</td>
                            <td>낮음</td>
                        </tr>
                        <tr>
                            <td><strong>패스 병합</strong></td>
                            <td>여러 효과를 하나의 패스로 통합</td>
                            <td>중간</td>
                            <td>없음</td>
                        </tr>
                    </tbody>
                </table>

                <h3 class="subsection-title">모바일 최적화 예제</h3>
                
                <div class="code-example">
<span class="comment">// 모바일 최적화된 포스트 프로세싱</span>
<span class="keyword">Shader</span> <span class="string">"Custom/PostProcessing/MobileOptimized"</span>
<span class="bracket">{</span>
    <span class="keyword">Properties</span>
    <span class="bracket">{</span>
        <span class="property">_MainTex</span> (<span class="string">"Texture"</span>, <span class="keyword">2D</span>) = <span class="string">"white"</span> <span class="bracket">{}</span>
        <span class="property">_EffectStrength</span> (<span class="string">"Effect Strength"</span>, <span class="keyword">Range</span>(<span class="number">0</span>, <span class="number">1</span>)) = <span class="number">0.5</span>
    <span class="bracket">}</span>
    
    <span class="keyword">SubShader</span>
    <span class="bracket">{</span>
        <span class="keyword">Tags</span> <span class="bracket">{</span> <span class="string">"RenderType"</span>=<span class="string">"Opaque"</span> <span class="bracket">}</span>
        <span class="keyword">ZTest</span> Always <span class="keyword">ZWrite</span> Off <span class="keyword">Cull</span> Off
        
        <span class="keyword">Pass</span>
        <span class="bracket">{</span>
            <span class="keyword">HLSLPROGRAM</span>
            <span class="keyword">#pragma vertex</span> vert
            <span class="keyword">#pragma fragment</span> frag
            
            <span class="comment">// 모바일 최적화 키워드</span>
            <span class="keyword">#pragma multi_compile</span> _ MOBILE_OPTIMIZATION
            
            <span class="keyword">#include</span> <span class="string">"Packages/com.unity.render-pipelines.universal/ShaderLibrary/Core.hlsl"</span>
            
            <span class="keyword">TEXTURE2D</span>(<span class="property">_MainTex</span>);
            <span class="keyword">SAMPLER</span>(<span class="property">sampler_MainTex</span>);
            <span class="type">float4</span> <span class="property">_MainTex_TexelSize</span>;
            <span class="type">float</span> <span class="property">_EffectStrength</span>;
            
            <span class="keyword">struct</span> <span class="type">Attributes</span>
            <span class="bracket">{</span>
                <span class="type">float4</span> <span class="property">positionOS</span> : <span class="keyword">POSITION</span>;
                <span class="type">float2</span> <span class="property">uv</span> : <span class="keyword">TEXCOORD0</span>;
            <span class="bracket">}</span>;
            
            <span class="keyword">struct</span> <span class="type">Varyings</span>
            <span class="bracket">{</span>
                <span class="type">float4</span> <span class="property">positionHCS</span> : <span class="keyword">SV_POSITION</span>;
                <span class="type">float2</span> <span class="property">uv</span> : <span class="keyword">TEXCOORD0</span>;
                <span class="keyword">#ifndef</span> MOBILE_OPTIMIZATION
                <span class="type">float4</span> <span class="property">uv01</span> : <span class="keyword">TEXCOORD1</span>; <span class="comment">// 추가 UV 좌표</span>
                <span class="keyword">#endif</span>
            <span class="bracket">}</span>;
            
            <span class="type">Varyings</span> <span class="function">vert</span>(<span class="type">Attributes</span> input)
            <span class="bracket">{</span>
                <span class="type">Varyings</span> output;
                output.<span class="property">positionHCS</span> = <span class="function">TransformObjectToHClip</span>(input.<span class="property">positionOS</span>.<span class="property">xyz</span>);
                output.<span class="property">uv</span> = input.<span class="property">uv</span>;
                
                <span class="keyword">#ifndef</span> MOBILE_OPTIMIZATION
                <span class="comment">// PC에서는 고품질 샘플링을 위한 추가 UV</span>
                <span class="type">float2</span> texelSize = <span class="property">_MainTex_TexelSize</span>.<span class="property">xy</span>;
                output.<span class="property">uv01</span>.<span class="property">xy</span> = input.<span class="property">uv</span> + texelSize * <span class="type">float2</span>(<span class="number">1</span>, <span class="number">1</span>);
                output.<span class="property">uv01</span>.<span class="property">zw</span> = input.<span class="property">uv</span> + texelSize * <span class="type">float2</span>(-<span class="number">1</span>, -<span class="number">1</span>);
                <span class="keyword">#endif</span>
                
                <span class="keyword">return</span> output;
            <span class="bracket">}</span>
            
            <span class="type">half4</span> <span class="function">frag</span>(<span class="type">Varyings</span> input) : <span class="keyword">SV_Target</span>
            <span class="bracket">{</span>
                <span class="type">half4</span> color = <span class="function">SAMPLE_TEXTURE2D</span>(<span class="property">_MainTex</span>, <span class="property">sampler_MainTex</span>, input.<span class="property">uv</span>);
                
                <span class="keyword">#ifdef</span> MOBILE_OPTIMIZATION
                <span class="comment">// 모바일: 간단한 효과만 적용</span>
                <span class="type">float</span> gray = <span class="function">dot</span>(color.<span class="property">rgb</span>, <span class="type">float3</span>(<span class="number">0.299</span>, <span class="number">0.587</span>, <span class="number">0.114</span>));
                color.<span class="property">rgb</span> = <span class="function">lerp</span>(color.<span class="property">rgb</span>, gray.<span class="property">xxx</span>, <span class="property">_EffectStrength</span> * <span class="number">0.5</span>);
                <span class="keyword">#else</span>
                <span class="comment">// PC: 고품질 효과 적용</span>
                <span class="type">half4</span> blur = <span class="type">half4</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);
                blur += <span class="function">SAMPLE_TEXTURE2D</span>(<span class="property">_MainTex</span>, <span class="property">sampler_MainTex</span>, input.<span class="property">uv01</span>.<span class="property">xy</span>);
                blur += <span class="function">SAMPLE_TEXTURE2D</span>(<span class="property">_MainTex</span>, <span class="property">sampler_MainTex</span>, input.<span class="property">uv01</span>.<span class="property">zw</span>);
                blur += <span class="function">SAMPLE_TEXTURE2D</span>(<span class="property">_MainTex</span>, <span class="property">sampler_MainTex</span>, input.<span class="property">uv</span>) * <span class="number">2</span>;
                blur /= <span class="number">4</span>;
                
                color = <span class="function">lerp</span>(color, blur, <span class="property">_EffectStrength</span>);
                <span class="keyword">#endif</span>
                
                <span class="keyword">return</span> color;
            <span class="bracket">}</span>
            <span class="keyword">ENDHLSL</span>
        <span class="bracket">}</span>
    <span class="bracket">}</span>
<span class="bracket">}</span>
                </div>

                <div class="warning-box">
                    <strong>⚠️ 성능 최적화 주의사항:</strong>
                    <ul style="margin-top: 1rem;">
                        <li><strong>텍스처 메모리:</strong> 중간 결과물 텍스처 크기 최소화</li>
                        <li><strong>패스 수 제한:</strong> 과도한 렌더 패스 피하기</li>
                        <li><strong>조건부 컴파일:</strong> 플랫폼별 최적화 코드 분리</li>
                        <li><strong>LOD 적용:</strong> 거리나 성능에 따른 품질 조절</li>
                    </ul>
                </div>
            </div>

            <div class="navigation-buttons">
                <a href="compute-shaders.html" class="nav-button prev">
                    <i class="fas fa-chevron-left"></i>
                    이전: 컴퓨트 셰이더
                </a>
                <a href="optimization.html" class="nav-button">
                    다음: 최적화 기법
                    <i class="fas fa-chevron-right"></i>
                </a>
            </div>
        </div>
    </main>

    <script src="../script.js"></script>
</body>
</html> 